"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.withDefaults = exports.ageInHours = exports.sleep = exports.logPrefix = void 0;
exports.logPrefix = "dune-client:";
/**
 * utility sleep method.
 * @param seconds number of seconds to sleep for.
 * @returns void
 */
function sleep(seconds) {
    return new Promise((resolve) => setTimeout(resolve, seconds * 1000));
}
exports.sleep = sleep;
/**
 * Computes the difference between a given timestamp and now (in hours)
 * @param timestamp
 * @returns time difference between input `timestamp` and now (in hours)
 */
function ageInHours(timestamp) {
    // Get the current date and time
    const now = new Date();
    // Given date time:
    const time = new Date(timestamp);
    // Calculate the difference in milliseconds
    const resultAge = now.getTime() - time.getTime();
    // Convert milliseconds to hours and return
    return resultAge / (1000 * 60 * 60);
}
exports.ageInHours = ageInHours;
/**
 *
 * @param obj Used to populate partial payloads with required defaults
 * @param defaults
 * @returns
 */
function withDefaults(obj, defaults) {
    // eslint-disable-next-line @typescript-eslint/no-explicit-any
    const result = { ...obj };
    for (const key in defaults) {
        if (result[key] === undefined) {
            result[key] = defaults[key];
        }
    }
    return result;
}
exports.withDefaults = withDefaults;
